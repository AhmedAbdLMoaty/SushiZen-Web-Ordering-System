<div
  class="auth-container"
  vocab="https://schema.org/"
  typeof="WebPage"
  resource="#login-page"
>
  <!-- JSON-LD is dynamically injected by the login component -->

  <div class="auth-card">
    <div>
      <h1 property="name">Welcome Back to Sushi Zen</h1>
      <p property="description">Sign in to your account</p>

      <div class="login-container" property="mainEntity" typeof="LoginAction">
        <mat-card class="login-card">
          <mat-card-header>
            <mat-card-title>Log In</mat-card-title>
          </mat-card-header>

          <mat-card-content>
            <form
              [formGroup]="loginForm"
              (ngSubmit)="onSubmit()"
              property="potentialAction"
              typeof="AuthenticateAction"
            >
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Email</mat-label>
                <input
                  matInput
                  formControlName="email"
                  type="email"
                  placeholder="example@email.com"
                  property="email"
                />
                <mat-error
                  *ngIf="loginForm.controls['email'].hasError('required')"
                >
                  Email is required
                </mat-error>
                <mat-error
                  *ngIf="loginForm.controls['email'].hasError('email')"
                >
                  Please enter a valid email address
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Password</mat-label>
                <input matInput formControlName="password" type="password" />
                <mat-error
                  *ngIf="loginForm.controls['password'].hasError('required')"
                >
                  Password is required
                </mat-error>
              </mat-form-field>

              <div *ngIf="error" class="error-message">
                {{ error }}
              </div>
              <div class="form-actions">
                <button
                  mat-raised-button
                  color="primary"
                  type="submit"
                  [disabled]="loginForm.invalid || loading"
                  property="target"
                >
                  <span *ngIf="!loading">Log In</span>
                  <mat-spinner *ngIf="loading" [diameter]="24"></mat-spinner>
                </button>
              </div>

              <div class="register-link">
                Don't have an account?
                <a
                  routerLink="/register"
                  [queryParams]="{ returnUrl: returnUrl }"
                  property="url"
                  >Sign up</a
                >
              </div>
            </form>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
</div>
